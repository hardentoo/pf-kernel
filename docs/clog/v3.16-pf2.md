At last, there are good news. I'm happy to announce the immediate availability
of new pf-kernel release for 3.16 Linux branch — 3.16-pf2.  
  
This release introduces two important fixes. First of all, at last (and thanks
to Con) we've got BFS+PREEMPT fixed, and all my ath9k issues disappeared. I
hope guys like lkraav should test it as well as the issue was common to BFS
and not related to ath9k in any way. Secondly, I've fixed TuxOnIce building
issue if TOI parts are enabled as modules. Hope, this will make custom
configurations work again. Also, with BFS fixed properly, I've reverted KVM
workaround, as it is not needed anymore (it hasn't been reverted in stock
-ck2, though).  
  
The patch is available
[here](https://pf.natalenko.name/sources/3.16/patch-3.16-pf2.xz). Shortlog is
appended as well.  
  

    
    
    Alan Stern (2):  
          USB: OHCI: fix bugs in debug routines  
          USB: OHCI: don't lose track of EDs when a controller dies  
      
    Alex Deucher (3):  
          drm/radeon: add new KV pci id  
          drm/radeon: add new bonaire pci ids  
          drm/radeon: add additional SI pci ids  
      
    Alexander Usyskin (6):  
          mei: reset client connection state on timeout  
          mei: start disconnect request timer consistently  
          mei: don't schedule suspend in pm idle  
          mei: fix return value on disconnect timeout  
          mei: reset client state on queued connect request  
          mei: nfc: fix memory leak in error path  
      
    Alexey Kardashevskiy (1):  
          KVM: PPC: Book3S: Fix LPCR one_reg interface  
      
    Andrey Utkin (1):  
          nfs3_list_one_acl(): check get_acl() result with IS_ERR_OR_NULL  
      
    Andy Lutomirski (1):  
          x86_64/vsyscall: Fix warn_bad_vsyscall log output  
      
    Arnd Bergmann (2):  
          crypto: ux500 - make interrupt mode plausible  
          hpsa: fix non-x86 builds  
      
    Axel Lin (7):  
          hwmon: (sis5595) Prevent overflow problem when writing large limits  
          hwmon: (amc6821) Fix possible race condition bug  
          hwmon: (gpio-fan) Prevent overflow problem when writing large limits  
          hwmon: (ads1015) Fix off-by-one for valid channel index checking  
          hwmon: (ads1015) Fix out-of-bounds array access  
          hwmon: (dme1737) Prevent overflow problem when writing large limits  
          hwmon: (lm92) Prevent overflow problem when writing large limits  
      
    Baruch Siach (1):  
          ARM: 8097/1: unistd.h: relocate comments back to place  
      
    Brian W Hart (1):  
          powerpc/powernv: Update dev->dma_mask in pci_set_dma_mask() path  
      
    Bryan O'Donoghue (1):  
          USB: ehci-pci: USB host controller support for Intel Quark X1000  
      
    Catalin Marinas (1):  
          arm64: Fix barriers used for page table modifications  
      
    Chris Mason (2):  
          btrfs: disable strict file flushes for renames and truncates  
          Btrfs: fix filemap_flush call in btrfs_file_release  
      
    Christian Borntraeger (1):  
          KVM: s390/mm: Fix page table locking vs. split pmd lock  
      
    Christoph Schulz (1):  
          x86: don't exclude low BIOS area when allocating address space for non-PCI cards  
      
    Chuck Lever (1):  
          svcrdma: Select NFSv4.1 backchannel transport based on forward channel  
      
    Clemens Ladisch (2):  
          ALSA: virtuoso: add Xonar Essence STX II support  
          ALSA: usb-audio: fix BOSS ME-25 MIDI regression  
      
    Daniel Bristot de Oliveira (1):  
          sched: Fix sched_setparam() policy == -1 logic  
      
    Darrick J. Wong (3):  
          ext4: fix same-dir rename when inline data directory overflows  
          jbd2: fix infinite loop when recovering corrupt journal blocks  
          jbd2: fix descriptor block size handling errors with journal_csum  
      
    Dave Chiluk (1):  
          stable_kernel_rules: Add pointer to netdev-FAQ for network patches  
      
    David Henningsson (1):  
          ALSA: hda - Add mute LED pin quirk for HP 15 touchsmart  
      
    David Vrabel (3):  
          xen/events/fifo: ensure all bitops are properly aligned even on x86  
          x86/xen: use vmap() to map grant table pages in PVH guests  
          x86/xen: resume timer irqs early  
      
    Dmitry Monakhov (4):  
          ext4: move i_size,i_disksize update routines to helper function  
          ext4: fix incorect journal credits reservation in ext4_zero_range  
          ext4: fix transaction issues for ext4_fallocate and ext_zero_range  
          ext4: update i_disksize coherently with block allocation on error path  
      
    Filipe Manana (2):  
          Btrfs: fix csum tree corruption, duplicate and outdated checksums  
          Btrfs: read lock extent buffer while walking backrefs  
      
    Greg Kroah-Hartman (2):  
          USB: fix build error with CONFIG_PM_RUNTIME disabled  
          Linux 3.16.2  
      
    Guenter Roeck (2):  
          hwmon: (lm78) Fix overflow problems seen when writing large temperature limits  
          hwmon: (lm85) Fix various errors on attribute writes  
      
    Guo Chao (1):  
          PCI: Keep original resource if we fail to expand it  
      
    Hans de Goede (4):  
          uas: Limit qdepth to 32 when connected over usb-2  
          xhci: Blacklist using streams on the Etron EJ168 controller  
          xhci: Treat not finding the event_seg on COMP_STOP the same as COMP_STOP_INVAL  
          xhci: Disable streams on Via XHCI with device-id 0x3432  
      
    Holger Paradies (1):  
          staging/rtl8188eu: add 0df6:0076 Sitecom Europe B.V.  
      
    Huang Rui (1):  
          usb: xhci: amd chipset also needs short TX quirk  
      
    Hugh Dickins (1):  
          x86,mm: fix pte_special versus pte_numa  
      
    Hui Wang (2):  
          ALSA: hda - fix an external mic jack problem on a HP machine  
          ALSA: hda - restore the gpio led after resume  
      
    James Forshaw (1):  
          USB: whiteheat: Added bounds checking for bulk command response  
      
    Jan Kara (1):  
          isofs: Fix unbounded recursion when processing relocated directories  
      
    Jason Gunthorpe (1):  
          tpm: Add missing tpm_do_selftest to ST33 I2C driver  
      
    Jaša Bartelj (1):  
          USB: ftdi_sio: Added PID for new ekey device  
      
    Jeremy Vial (1):  
          ARM: OMAP3: Fix choice of omap3_restore_es function in OMAP34XX rev3.1.2 case.  
      
    Jiri Kosina (3):  
          HID: logitech: fix bounds checking on LED report size  
          HID: logitech: perform bounds checking on device_id early enough  
          HID: fix a couple of off-by-ones  
      
    Johan Hovold (1):  
          USB: ftdi_sio: add Basic Micro ATOM Nano USB2Serial PID  
      
    Kinglong Mee (1):  
          NFSD: Decrease nfsd_users in nfsd_startup_generic fail  
      
    Larry Finger (1):  
          staging: r8188eu: Add new USB ID  
      
    Liu Bo (3):  
          Btrfs: fix compressed write corruption on enospc  
          Btrfs: fix crash on endio of reading corrupted block  
          Btrfs: fix task hang under heavy compressed write  
      
    Lukas Czerner (1):  
          ext4: fix punch hole on files with indirect mapping  
      
    Mark Einon (1):  
          staging: et131x: Fix errors caused by phydev->addr accesses before initialisation  
      
    Mathias Nyman (1):  
          xhci: rework cycle bit checking for new dequeue pointers  
      
    Matt Fleming (1):  
          x86/efi: Enforce CONFIG_RELOCATABLE for EFI boot stub  
      
    Michael S. Tsirkin (1):  
          kvm: iommu: fix the third parameter of kvm_iommu_put_pages (CVE-2014-3601)  
      
    Mike Qiu (1):  
          powerpc/eeh: Wrong place to call pci_get_slot()  
      
    Myron Stowe (1):  
          PCI: pciehp: Clear Data Link Layer State Changed during init  
      
    Nadav Amit (1):  
          KVM: x86: Inter-privilege level ret emulation is not implemeneted  
      
    Oleg Nesterov (1):  
          vm_is_stack: use for_each_thread() rather then buggy while_each_thread()  
      
    Oleksandr Natalenko (14):  
          ck-3.16: an attempt to fix i8k+BFS  
          ck-3.16: an attempt to fix BFS+ath9k issue  
          Revert "ck-3.16: an attempt to fix i8k+BFS"  
          Revert "ck-3.16: an attempt to fix BFS+ath9k issue"  
          ck-3.16: revert KVM workaround due to proper cond_resched() fix  
          ck-3.16: bring back scheduler_ipi()  
          ck-3.16: use tif_need_resched() in cond_resched()  
          version-3.16: bump to v3.16-pf2  
          distro-3.16: bump to v3.16-pf2  
          Revert "ck-3.16: use tif_need_resched() in cond_resched()"  
          ck-3.16: fix rescheduling with preemptible kernel  
          ck-3.16: bump BFS to v456  
          toi-fixes-3.16: fix resume_file undefined error  
          toi-fixes-3.16: fix resume_file undefined error  
      
    Oliver Neukum (2):  
          usbcore: don't log on consecutive debounce failures of the same port  
          USB: devio: fix issue with log flooding  
      
    Paolo Bonzini (2):  
          KVM: x86: always exit on EOIs for interrupts listed in the IOAPIC redir table  
          Revert "KVM: x86: Increase the number of fixed MTRR regs to 10"  
      
    Patrick Riphagen (2):  
          USB: serial: ftdi_sio: Annotate the current Xsens PID assignments  
          USB: serial: ftdi_sio: Add support for new Xsens devices  
      
    Paul S McSpadden (1):  
          ALSA: usb-audio: Adjust Gamecom 780 volume level  
      
    Peter Chen (1):  
          usb: ehci: using wIndex + 1 for hub port  
      
    Peter Hurley (1):  
          serial: core: Preserve termios c_cflag for console resume  
      
    Pranith Kumar (1):  
          staging: lustre: Remove circular dependency on header  
      
    Pratyush Anand (1):  
          USB: Fix persist resume of some SS USB devices  
      
    Rob Kendrick (1):  
          MIPS: math-emu: Fix instruction decoding.  
      
    Roger Quadros (1):  
          usb: hub: Prevent hub autosuspend if usbcore.autosuspend is -1  
      
    Russell King (1):  
          drm: omapdrm: fix compiler errors  
      
    Scott Mayhew (1):  
          nfs: reject changes to resvport and sharecache during remount  
      
    Semen Protsenko (1):  
          efi/arm64: Store Runtime Services revision  
      
    Simone Gotti (1):  
          ACPI / PCI: Fix sysfs acpi_index and label errors  
      
    Stephen M. Cameron (1):  
          hpsa: fix bad -ENOMEM return value in hpsa_big_passthru_ioctl  
      
    Steven Rostedt (1):  
          debugfs: Fix corrupted loop in debugfs_remove_recursive  
      
    Suman Anna (1):  
          ARM: dts: AM4372: Correct mailbox node data  
      
    Takashi Iwai (4):  
          ALSA: hda/ca0132 - Don't try loading firmware at resume when already failed  
          ALSA: hda/realtek - Avoid setting wrong COEF on ALC269 & co  
          Btrfs: Fix memory corruption by ulist_add_merge() on 32bit arch  
          usbcore: Fix wrong device in an error message in hub_port_connect()  
      
    Theodore Ts'o (2):  
          ext4: fix ext4_discard_allocated_blocks() if we can't allocate the pa struct  
          ext4: fix BUG_ON in mb_free_blocks()  
      
    Thomas Gleixner (1):  
          x86: MCE: Add raw_lock conversion again  
      
    Tony Lindgren (1):  
          ARM: OMAP2+: hwmod: Rearm wake-up interrupts for DT when MUSB is idled  
      
    Trond Myklebust (3):  
          NFSv3: Fix another acl regression  
          NFSv4: Don't clear the open state when we just did an OPEN_DOWNGRADE  
          NFSv4: Fix problems with close in the presence of a delegation  
      
    Tyrel Datwyler (1):  
          powerpc/pci: Reorder pci bus/bridge unregistration during PHB removal  
      
    Ulf Hansson (2):  
          mmc: mmci: Remove redundant check of status for DATA irq  
          mmc: mmci: Move all CMD irq handling to mmci_cmd_irq()  
      
    Vidya Sagar (1):  
          PCI: Configure ASPM when enabling device  
      
    Wanpeng Li (1):  
          KVM: nVMX: fix "acknowledge interrupt on exit" when APICv is in use  
      
    Will Deacon (1):  
          arm64: don't call break hooks for BRK exceptions from EL0  
      
    Wolfram Sang (1):  
          drivers/i2c/busses: use correct type for dma_map/unmap  
      
    addy ke (1):  
          i2c: rk3x: fix interrupt handling issue

